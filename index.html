<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="A one-to-one free to use ad-free web app to meet people around the world over p2p technology.">
    <meta name="google-site-verification" content="vO1OkG1HXZbDIOMUHe7mq72wSzhtR3OdWam2PCfna10" />
    <title>Pico Meet</title>
    <link rel="stylesheet" type="text/css" href="/styles.css">
    <link rel="manifest" href="manifest.webmanifest">
    <link rel="shortcut icon" href="ass.ico" type="image/x-icon">
</head>
<body>

    <!-- toast block -->
    <div id="toast"></div>

    <!-- spash screen -->
    <div class="splash">
        <div class="splash-container">
            <h2>Pico Meet</h2>
            <a href="http://ash-faque.github.io" target="_blank" rel="noopener noreferrer">BY: ASHFAQUE BLATHUR</a>
        </div>
    </div>

    <!-- setup block -->
    <div class="setup">

        <!-- header -->
        <header>
            <h1>Pico Meet</h1>
            <h2>meet over p2p.</h2>
        </header>

        <!-- fab btn -->
        <div class="fab">
            <div class="fab_elms">
                <button class="fab_elm" onclick="openTab('collect_detail')">SETUP YOUR DETAILS</button>
                <button class="fab_elm" onclick="openTab('feedback_tab')">WRITE A FEEDBACK</button>
                <button class="fab_elm" onclick="toRoot()">HOME SCREEN</button>
                <button class="fab_elm" onclick="invite()">INVITE SOMEONE</button>
                <button class="fab_elm" onclick="toast.clearAllErrors(this)" style="display: none;" id="cleaner">CLEAR ALL ERRORS</button>
                <button class="fab_elm" onclick="toggleFullScreen()">TOGGLE FULLSCREEN</button>
            </div>
            <button class="fab_switcher" onclick="fab()">ðŸ’£</button>
        </div>

        <!-- root wrapper -->
        <div class="wrap">
            <!-- connection info -->
            <div class="model peer_info">
                <h2>Your Peer Connection</h2>
                <p>Connection Status: <span class="connected"></span></p>
                <p>Connection ID: <span class="with_id"></span></p>
            </div>
            <!-- create or join -->
            <div class="model peer_caller" id="entry-modal">
                <h2>Call Someone</h2>
                <form onsubmit="joinPeer(event)" class="peer_caller_wrap">
                    <label for="room-input">Enter Peer Id</label>
                    <input id="room-input" class="room-input" placeholder="Enter Peer ID" required autocomplete="off">
                    <button type="submit">CALL</button>
                </form>
            </div>
            <!-- peer explorer -->
            <div class="model peer_explorer">
                <h2>Explore Peers</h2>
                <ul class="peer_explorer_wrap" id="explore"></ul>
            </div>
        </div>

            <!-- custome tabs / fab tabs -->
            <!-- details collector -->
            <div class="ct" id="collect_detail">
                <h2>Setup Details</h2>
                <div class="ct_wrap">
                    <form onsubmit="setDetails(event, this)" id="setDetailForm">
                        <p>All the data you enter below will be available on public database for a reasone.</p>
                        <p>
                            The ID must start and end with an alphanumeric character
                            (lower or upper case character or a digit).
                            In the middle dashes (-) and underscores (_) are allowed.
                        </p>
                        <label for="peer">Preferred Peer Id</label>
                        <input type="text" name="peer" id="peer" pattern="^[a-zA-Z0-9_-]+$" title="Blank space not allowed" required placeholder="Alpha numeric value except spaces."  autocomplete="off">
                        <label for="name">Name</label>
                        <input type="text" name="name" id="name" required placeholder="Your nice name goes here" autocomplete="off">
                        <label for="bio">Bio</label>
                        <input type="text" name="bio" id="bio" required placeholder="Your priffered languages fits well" autocomplete="off">
                        <button type="submit">Set Details</button>
                    </form>
                </div> 
            </div>
            <!-- feedback details -->
            <div class="ct" id="feedback_tab">
                <h2>Send Feedback</h2>
                <div class="ct_wrap">
                    <form onsubmit="sendFeedback(event, this)">
                        <label for="w_name">Your Name</label>
                        <input type="text" id="w_name" required placeholder="Your nice name goes here"  autocomplete="off">
                        <label for="feedback">Your Feedback</label>
                        <input type="text" id="feedback" required placeholder="I wolud like to...." autocomplete="off">
                        <button type="submit">WhatsApp It</button>
                    </form>
                </div> 
            </div>

        <!-- foot -->
        <footer>
            <a href="http://ash-faque.github.io" target="_blank" rel="noopener noreferrer">BY: ASHFAQUE BLATHUR</a>
        </footer>

    </div>

                <!-- facetime block -->
                <div class="facetime">

                    <!-- Remote Video Element-->
                    <video id="remote-video"></video>
                    <!-- Local Video Element-->
                    <video id="local-video"></video>
                    
                    <!-- call controls -->
                    <div class="call_controls">
                        <div class="v_control_wrap">
                            <button onclick="toggleVid()" class="vid_toggler">ðŸ“Œ SELF VIDEO</button>
                            <button onclick="toggleFullScreen()">ðŸ’¢ FULLSCREEN</button>
                            <button onclick="endCall()">ðŸ“ž END CALL</button>
                        </div>
                        <button class="controll_toggler" onclick="vidControl(this)">âš™ CONTROLS</button>
                    </div>

                </div>

</body>
<!-- peerjs & adaptor -->
<script src="/peer.js"></script>
<script src="https://webrtc.github.io/adapter/adapter-latest.js"></script>
<!-- firebase -->
<script src="https://www.gstatic.com/firebasejs/8.6.8/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.6.8/firebase-firestore.js"></script>
<script>
    var firebaseConfig = {
        apiKey: "AIzaSyAeicVS-SyzzDD8vxKnPDkBf_SRpUMs7q8",
        authDomain: "pico-meet.firebaseapp.com",
        databaseURL: "https://pico-meet-default-rtdb.asia-southeast1.firebasedatabase.app",
        projectId: "pico-meet",
        storageBucket: "pico-meet.appspot.com",
        messagingSenderId: "864476937589",
        appId: "1:864476937589:web:708254489c7003f5fa273c"
    };
    firebase.initializeApp(firebaseConfig);
    activePeers = firebase.firestore('active-peers');
    console.log(activePeers)
</script>
<!-- local script -->
<script src="test.js"></script>

</html>